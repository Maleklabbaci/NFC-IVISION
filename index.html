<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>iVision Agency - Marketing Digital</title>
    
    <!-- Préchargement et styles -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Scripts React et Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              sans: ['"Plus Jakarta Sans"', 'sans-serif'],
              heading: ['"Outfit"', 'sans-serif'],
            },
            colors: {
              // Charte Graphique iVision
              ivision: {
                blue: '#0052CC',      // Bleu Royal Profond
                cyan: '#00C2FF',      // Cyan Digital
                dark: '#0B1120',      // Noir bleuté
                light: '#F0F9FF',     // Blanc bleuté
              }
            },
            backgroundImage: {
              'ivision-gradient': 'linear-gradient(135deg, #0052CC 0%, #00C2FF 100%)',
            },
            animation: {
              'float': 'float 6s ease-in-out infinite',
              'fade-up': 'fadeUp 0.5s ease-out forwards',
              'blob': 'blob 7s infinite',
              'spin-slow': 'spin 3s linear infinite',
              'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
            },
            keyframes: {
              float: {
                '0%, 100%': { transform: 'translateY(0)' },
                '50%': { transform: 'translateY(-20px)' },
              },
              fadeUp: {
                '0%': { opacity: '0', transform: 'translateY(10px)' },
                '100%': { opacity: '1', transform: 'translateY(0)' },
              },
              blob: {
                '0%': { transform: 'translate(0px, 0px) scale(1)' },
                '33%': { transform: 'translate(30px, -50px) scale(1.1)' },
                '66%': { transform: 'translate(-20px, 20px) scale(0.9)' },
                '100%': { transform: 'translate(0px, 0px) scale(1)' },
              }
            }
          }
        }
      }
    </script>
    
    <style>
      /* Configuration stricte pour "locker" la page comme une app */
      html, body {
        margin: 0;
        padding: 0;
        width: 100%;
        height: 100%;
        overflow: hidden; /* Empêche le scroll global */
        position: fixed; /* Fixe le viewport */
        overscroll-behavior: none; /* Désactive le rebond (rubber-banding) */
        -webkit-overflow-scrolling: touch;
        /* Background sophistiqué gris-bleu pour faire ressortir le blanc */
        background-color: #CBD5E1; 
        touch-action: none; /* Désactive les gestes par défaut sauf exceptions */
      }
      
      #root {
        width: 100%;
        height: 100%;
        overflow: hidden;
      }

      .scrollbar-hide::-webkit-scrollbar { display: none; }
      .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
      .animation-delay-2000 { animation-delay: 2s; }
      .animation-delay-4000 { animation-delay: 4s; }
    </style>

    <script type="importmap">
    {
      "imports": {
        "react": "https://esm.sh/react@18.3.1",
        "react/": "https://esm.sh/react@18.3.1/",
        "react-dom": "https://esm.sh/react-dom@18.3.1",
        "react-dom/": "https://esm.sh/react-dom@18.3.1/",
        "react-dom/client": "https://esm.sh/react-dom@18.3.1/client",
        "lucide-react": "https://esm.sh/lucide-react@0.294.0?external=react"
      }
    }
    </script>
  </head>
  <body>
    <div id="root"></div>

    <!-- Application React Complète Inline -->
    <script type="text/babel" data-type="module">
      import React, { useState, useEffect } from 'react';
      import ReactDOM from 'react-dom/client';
      import { 
        Phone, Mail, MapPin, Globe, Instagram, Facebook, Linkedin, 
        Share2, Download, ChevronDown, MessageCircle, ArrowRight, 
        ExternalLink, Sparkles, CheckCircle2, Copy,
        LayoutDashboard, Megaphone, PenTool 
      } from 'lucide-react';

      // --- CONSTANTS ---
      const CONTACT_INFO = {
        phone: "+213 563 83 94 04",
        email: "contact@ivision.agency",
        address: "Tipaza, Algérie",
        whatsapp: "https://wa.me/213563839404",
      };

      const SOCIAL_LINKS = {
        instagram: "https://www.instagram.com/ivision_agency/",
        linkedin: "https://www.linkedin.com/company/ivision-agency",
        facebook: "https://www.facebook.com/agencyivision/",
        tiktok: "",
        website: "https://ivision.agency/",
      };

      const LOGO_URL = "https://i.ibb.co/zHJBDrDT/i-VISIONLOGO.png";

      const SERVICES = [
        {
          title: "Marketing digital complet",
          description: "Une stratégie 360° pour booster votre visibilité et votre croissance en ligne.",
          icon: LayoutDashboard,
        },
        {
          title: "Création de contenu",
          description: "Design graphique et production vidéo pour captiver votre audience (Design & Vidéo).",
          icon: PenTool,
        },
        {
          title: "Sponsoring Meta Ads",
          description: "Campagnes publicitaires performantes sur Facebook et Instagram pour maximiser votre ROI.",
          icon: Megaphone,
        },
        {
          title: "Website e-commerce et vitrine",
          description: "Conception de sites web modernes et optimisés pour vendre et convaincre.",
          icon: Globe,
        },
      ];

      // --- COMPOSANTS UI ---
      const SocialBtn = ({ href, icon, label, delay }) => {
        if (!href) return null;
        return (
          <a 
            href={href}
            target="_blank"
            rel="noopener noreferrer"
            aria-label={label}
            className="group w-12 h-12 rounded-[18px] bg-white border border-slate-100 shadow-[0_4px_12px_-4px_rgba(0,0,0,0.05)] flex items-center justify-center text-slate-400 hover:text-white hover:bg-ivision-gradient hover:scale-110 hover:shadow-lg hover:shadow-blue-500/30 active:scale-90 transition-all duration-300 ease-[cubic-bezier(0.34,1.56,0.64,1)]"
          >
            <div className="transform group-hover:rotate-6 transition-transform duration-300">
              {icon}
            </div>
          </a>
        );
      };

      const ActionWidget = ({ href, icon, label, sub, color, borderColor, iconColor }) => (
        <a 
          href={href}
          target={href.startsWith('http') ? '_blank' : undefined}
          rel={href.startsWith('http') ? 'noopener noreferrer' : undefined}
          className={`group flex flex-col items-center justify-center p-4 rounded-[28px] bg-white border border-slate-100 shadow-[0_4px_20px_-8px_rgba(0,0,0,0.05)] hover:shadow-[0_12px_30px_-8px_rgba(0,0,0,0.1)] hover:-translate-y-1 ${borderColor} transition-all duration-300 cursor-pointer h-32 relative overflow-hidden`}
        >
          <div className={`mb-3 p-3.5 rounded-[18px] transition-all duration-300 shadow-sm ${color} group-hover:scale-110 group-hover:bg-ivision-gradient group-hover:text-white`}>
            {icon}
          </div>
          <span className="text-sm font-bold text-slate-700 leading-none mb-1.5 group-hover:text-ivision-blue">{label}</span>
          <span className="text-[10px] font-semibold text-slate-400 uppercase tracking-wide group-hover:text-slate-500">{sub}</span>
        </a>
      );

      // --- APPLICATION PRINCIPALE ---
      const App = () => {
        const [showServices, setShowServices] = useState(false);
        const [mounted, setMounted] = useState(true);

        const handleShare = async () => {
          if (navigator.share) {
            try {
              await navigator.share({
                title: 'iVision Agency',
                text: 'Agence de Marketing Digital 360° - Excellence & Innovation',
                url: window.location.href,
              });
            } catch (error) {
              console.log('Error sharing', error);
            }
          } else {
            navigator.clipboard.writeText(window.location.href);
            alert('Lien copié dans le presse-papier');
          }
        };

        const downloadVCard = () => {
          const vcardRows = [
            "BEGIN:VCARD",
            "VERSION:3.0",
            "N:Agency;iVision;;;",
            "FN:iVision Agency",
            "ORG:iVision Agency",
            "TITLE:Agence Marketing Digital",
            `TEL;TYPE=CELL,VOICE:${CONTACT_INFO.phone}`,
            `EMAIL;TYPE=WORK,INTERNET:${CONTACT_INFO.email}`,
            `URL:${SOCIAL_LINKS.website}`,
            `ADR;TYPE=WORK:;;${CONTACT_INFO.address};;;;`,
            "NOTE:Agence de Marketing Digital 360° - Stratégie, Contenu, Ads & Web.",
            `X-SOCIALPROFILE;TYPE=instagram:${SOCIAL_LINKS.instagram}`,
            `X-SOCIALPROFILE;TYPE=facebook:${SOCIAL_LINKS.facebook}`,
            "REV:" + new Date().toISOString().replace(/[-:]/g, "").split(".")[0] + "Z",
            "END:VCARD"
          ];

          const vcardString = vcardRows.join("\r\n");
          const blob = new Blob([vcardString], { type: 'text/vcard;charset=utf-8' });
          
          const url = window.URL.createObjectURL(blob);
          const link = document.createElement('a');
          link.href = url;
          link.setAttribute('download', 'ivision-contact.vcf');
          document.body.appendChild(link);
          link.click();
          document.body.removeChild(link);
          window.URL.revokeObjectURL(url);
        };

        return (
          // Conteneur principal fixe (ne scrolle pas)
          <div className="fixed inset-0 w-full h-full bg-slate-300 font-sans overflow-hidden">
            
            {/* Arrière-plan animé (Fixe) */}
            <div className="absolute inset-0 w-full h-full overflow-hidden pointer-events-none z-0">
              <div className="absolute top-[-10%] left-[-10%] w-[60%] h-[60%] bg-ivision-blue/10 rounded-full blur-[120px] animate-float"></div>
              <div className="absolute bottom-[-10%] right-[-10%] w-[60%] h-[60%] bg-ivision-cyan/10 rounded-full blur-[120px] animate-float animation-delay-2000"></div>
            </div>

            {/* Scroll Container */}
            <div 
                className="relative z-10 w-full h-full overflow-y-auto overflow-x-hidden scrollbar-hide overscroll-none"
                style={{ touchAction: 'pan-y' }}
            >
                <div className="min-h-full flex items-center justify-center p-4 py-8">
                    
                    {/* Carte Principale */}
                    <div 
                      className={`w-full max-w-[400px] bg-gradient-to-br from-white/95 to-white/70 backdrop-blur-2xl rounded-[48px] shadow-[0_30px_60px_-12px_rgba(15,23,42,0.1),0_0_0_1px_rgba(255,255,255,0.7),0_0_40px_-10px_rgba(0,82,204,0.15)] p-6 flex flex-col gap-6 transition-all duration-1000 ease-[cubic-bezier(0.2,0.8,0.2,1)] ${mounted ? 'translate-y-0 opacity-100' : 'translate-y-12 opacity-0'}`}
                    >
                      
                      {/* En-tête */}
                      <div className="flex flex-col items-center pt-2 relative">
                          <button 
                            onClick={handleShare}
                            className="absolute top-0 right-0 w-11 h-11 rounded-full bg-white/60 backdrop-blur-md shadow-[0_4px_12px_-2px_rgba(0,0,0,0.08)] border border-white text-slate-400 flex items-center justify-center hover:text-ivision-blue hover:bg-white hover:shadow-[0_8px_16px_-4px_rgba(0,194,255,0.2)] hover:scale-105 active:scale-95 transition-all duration-300 group"
                            aria-label="Partager"
                          >
                            <Share2 size={18} strokeWidth={2.5} className="group-hover:rotate-12 transition-transform duration-300" />
                          </button>

                          <div className="relative mb-6 group cursor-pointer" onClick={() => window.open(SOCIAL_LINKS.website, '_blank')}>
                            <div className="absolute inset-0 bg-ivision-gradient blur-2xl rounded-full opacity-0 group-hover:opacity-40 transition-opacity duration-700"></div>
                            <div className="w-28 h-28 rounded-[36px] bg-white shadow-2xl shadow-blue-900/10 p-2 flex items-center justify-center transform group-hover:scale-105 transition-all duration-500 ease-out border border-white/50 relative z-10">
                                <img src={LOGO_URL} alt="iVision" className="w-full h-full object-contain rounded-[28px]" />
                            </div>
                            <div className="absolute -bottom-1 -right-1 z-20 bg-ivision-gradient text-white p-1.5 rounded-full border-[3px] border-white shadow-lg animate-bounce animation-delay-4000">
                                <CheckCircle2 size={14} strokeWidth={3} />
                            </div>
                          </div>

                          <div className="text-center space-y-2">
                            <h1 className="text-3xl font-heading font-extrabold text-ivision-dark tracking-tight">
                              iVision<span className="text-transparent bg-clip-text bg-ivision-gradient">.</span>
                            </h1>
                            
                            <div className="inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-ivision-light text-ivision-blue text-[10px] font-bold uppercase tracking-widest border border-ivision-blue/20 shadow-sm">
                                <Sparkles size={10} className="fill-ivision-blue" />
                                Agence Digitale
                            </div>
                            
                            <p className="text-slate-500 text-[13px] mt-2 leading-relaxed max-w-[260px] font-medium mx-auto">
                                Nous transformons votre vision en <span className="text-ivision-dark font-bold">succès digital</span> mesurable.
                            </p>
                          </div>

                          <div className="flex items-center justify-center gap-4 mt-6">
                            <SocialBtn href={SOCIAL_LINKS.instagram} icon={<Instagram size={20} />} label="Instagram" delay="0" />
                            <SocialBtn href={SOCIAL_LINKS.facebook} icon={<Facebook size={20} />} label="Facebook" delay="100" />
                            <SocialBtn href={SOCIAL_LINKS.linkedin} icon={<Linkedin size={20} />} label="LinkedIn" delay="200" />
                            <SocialBtn href={SOCIAL_LINKS.website} icon={<Globe size={20} />} label="Site Web" delay="300" />
                          </div>
                      </div>

                      {/* Actions */}
                      <div className="grid grid-cols-2 gap-3.5">
                        <ActionWidget 
                            href={`tel:${CONTACT_INFO.phone}`} 
                            icon={<Phone size={22} />} 
                            label="Appeler" 
                            sub="Mobile"
                            color="text-ivision-blue bg-ivision-light"
                            borderColor="hover:border-ivision-blue/30"
                        />
                        <ActionWidget 
                            href={CONTACT_INFO.whatsapp} 
                            icon={<MessageCircle size={22} />} 
                            label="WhatsApp" 
                            sub="Direct"
                            color="text-emerald-600 bg-emerald-50"
                            borderColor="hover:border-emerald-200"
                        />
                        <ActionWidget 
                            href={`mailto:${CONTACT_INFO.email}`} 
                            icon={<Mail size={22} />} 
                            label="Email" 
                            sub="Contact"
                            color="text-ivision-cyan bg-cyan-50"
                            borderColor="hover:border-ivision-cyan/30"
                        />
                        <ActionWidget 
                            href={`https://maps.google.com/?q=${CONTACT_INFO.address}`} 
                            icon={<MapPin size={22} />} 
                            label="Bureau" 
                            sub="Localiser"
                            color="text-violet-600 bg-violet-50"
                            borderColor="hover:border-violet-200"
                        />
                      </div>

                      {/* CTA */}
                      <button 
                        onClick={downloadVCard}
                        className="w-full py-4 bg-ivision-gradient text-white rounded-[28px] font-bold shadow-[0_12px_24px_-8px_rgba(0,82,204,0.4)] hover:shadow-[0_20px_40px_-12px_rgba(0,194,255,0.5)] hover:scale-[1.02] active:scale-[0.98] transition-all duration-300 flex items-center justify-center gap-3 group overflow-hidden relative"
                      >
                        <div className="absolute inset-0 bg-white/20 translate-y-full group-hover:translate-y-0 transition-transform duration-300 rounded-[28px]"></div>
                        <div className="bg-white/10 p-1.5 rounded-full group-hover:bg-white/20 transition-colors relative z-10">
                          <Download size={18} strokeWidth={2.5} />
                        </div>
                        <span className="tracking-wide relative z-10">Enregistrer Contact</span>
                      </button>

                      {/* Services */}
                      <div className="bg-white/40 backdrop-blur-sm rounded-[32px] overflow-hidden border border-white/60 shadow-sm transition-all duration-300 hover:bg-white/60">
                        <button 
                            onClick={() => setShowServices(!showServices)}
                            className="w-full px-6 py-5 flex items-center justify-between text-slate-800 font-bold text-[13px] tracking-wide uppercase hover:bg-white/50 transition-colors group"
                        >
                            <div className="flex items-center gap-3">
                              <div className="w-8 h-8 rounded-full bg-white shadow-sm flex items-center justify-center text-ivision-blue group-hover:scale-110 transition-transform duration-300">
                                  <Sparkles size={14} strokeWidth={2.5} className="fill-ivision-cyan" />
                              </div>
                              <span className="group-hover:text-ivision-blue transition-colors">Nos Expertises</span>
                            </div>
                            <ChevronDown size={20} strokeWidth={2.5} className={`text-slate-400 group-hover:text-ivision-cyan transition-all duration-500 ease-[cubic-bezier(0.25,1,0.5,1)] ${showServices ? 'rotate-180' : ''}`} />
                        </button>
                        
                        <div className={`transition-[max-height] duration-700 ease-[cubic-bezier(0.25,1,0.5,1)] overflow-hidden ${showServices ? 'max-h-[800px]' : 'max-h-0'}`}>
                            <div className="px-5 pb-5 pt-0 space-y-3">
                              <div className="w-full h-px bg-slate-200/50 mb-4"></div>
                              {SERVICES.map((s, i) => (
                                  <div key={i} className="flex items-start gap-4 p-4 rounded-[20px] bg-white border border-slate-100 shadow-[0_4px_12px_-4px_rgba(0,0,0,0.02)] hover:shadow-[0_8px_20px_-8px_rgba(0,0,0,0.06)] hover:border-ivision-cyan/30 hover:-translate-y-0.5 transition-all duration-300 group/item">
                                    <div className="text-ivision-blue mt-1 bg-ivision-light p-2.5 rounded-2xl group-hover/item:bg-ivision-gradient group-hover/item:text-white transition-colors duration-300">
                                        <s.icon size={18} strokeWidth={2} />
                                    </div>
                                    <div>
                                        <div className="font-bold text-slate-800 text-sm leading-tight group-hover/item:text-ivision-blue transition-colors">{s.title}</div>
                                        <p className="text-slate-500 text-xs mt-1.5 leading-relaxed font-medium">{s.description}</p>
                                    </div>
                                  </div>
                              ))}
                              
                              <a 
                                href={SOCIAL_LINKS.website} 
                                target="_blank"
                                rel="noopener noreferrer"
                                className="mt-6 flex items-center justify-center gap-2 w-full py-4 text-xs font-bold text-ivision-blue bg-ivision-light border border-ivision-blue/20 rounded-[20px] hover:bg-ivision-blue hover:text-white hover:border-ivision-blue hover:shadow-lg hover:shadow-blue-500/20 active:scale-95 transition-all duration-300 group"
                              >
                                  <Globe size={16} strokeWidth={2.5} className="group-hover:animate-spin-slow" />
                                  VISITER LE SITE OFFICIEL
                                  <ExternalLink size={14} />
                              </a>
                            </div>
                        </div>
                      </div>

                      {/* Footer */}
                      <div className="text-center pt-2">
                        <p className="text-[10px] text-slate-400 font-semibold uppercase tracking-[0.2em] opacity-70">
                          iVision Agency © {new Date().getFullYear()}
                        </p>
                      </div>

                    </div>
                </div>
            </div>
          </div>
        );
      };

      // --- INITIALISATION ---
      const rootElement = document.getElementById('root');
      if (!rootElement) {
        console.error("Root element not found");
      } else {
        const root = ReactDOM.createRoot(rootElement);
        root.render(
          <React.StrictMode>
            <App />
          </React.StrictMode>
        );
      }
    </script>
  </body>
</html>